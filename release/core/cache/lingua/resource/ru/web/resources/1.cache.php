<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 1,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'Главная',
    'longtitle' => 'Добро пожаловать!',
    'description' => '',
    'alias' => 'main',
    'alias_visible' => 1,
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 0,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '        <section id="hero" class="visible">
            <div class="hero-logo logo" data-speed="0" data-blur="0">
                <img src="/img/logo-[[!lingua.cultureKey]].svg" alt="">
                <h1>#Маша солнце</h1>
                <span>Мир особого художника</span>
            </div>
            <div class="layer-parallax">
                <div class="layer lazy" data-speed="5" data-blur="1.5" data-src="/img/layers/flowers.png"></div>
                <div class="layer lazy" data-speed="3" data-blur="0.3" data-src="/img/layers/grass.png"></div>
                <div class="layer lazy" data-speed="1.6" data-blur="0.1" data-src="/img/layers/mountains.png"></div>
                <div class="layer lazy" data-speed="1" data-blur="0" data-src="/img/layers/sky.png"></div>
            </div>
        </section>
        <section id="about">
            <div class="container">
                <div class="row flex">
                    <div class="col s12 center-align">
                        <h2>Обо мне</h2>
                    </div>
                </div>
            </div>
            <div class="swiper-container" id="swiper-about">
                <div class="swiper-wrapper">
                    <div class="swiper-slide lazy" data-header="Детство" data-src="/img/slides/slide3.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col l6 xl6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/childhood.jpg">
                                </div>
                                <div class="col l6 xl5 offset-xl1 s12">
                                    <h3>Детство</h3>
                                    <p>
                                        Мордвинцева Мария Георгиевна родилась летом 2000г. в городе Ленинск-Кузнецкий Кемеровской области. Елена (мама девочки) вложила много сил и любви в дочку – как только Маша начала сидеть, 
                                        она сажала её на колени и читала детские книжки, а девочка рассматривала картинки, запоминала животных, персонажей и цвета. Так началось её увлечение рисунками. Весной 2004г. 
                                        семья переехала в город-курорт Горячий ключ. Там Маша и начала рисовать. Сначала, по словам мамы это были «каля-маля», но постепенно рисунки Маши становились всё более осмысленными.
                                    </p>
                                </div>
                            </div>
                            <div class="overlay lazy" data-src="/img/plant1.png" data-lx="38" data-ly="40" data-mx="65" data-my="40" data-h-depth="0.001" data-v-depth="0.01"></div>
                            <div class="overlay lazy" data-src="/img/plant.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.002" data-v-depth="0.02"></div>
                        </div>
                    </div>
                    <div class="swiper-slide lazy" data-header="Становление" data-src="/img/slides/slide2.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col m6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/becoming.jpg">
                                </div>
                                <div class="col m5 offset-m1 s12">
                                    <h3>Становление</h3>
                                    <p>
                                        В 2007-м году, как и все, девочка пошла в школу. В соседнем подъезде открылась художественная студия «Розовый кот», куда Маша записалась сразу же, и ходит в неё уже почти 13 лет. 
                                        Руководитель студии Жанна Викторовна Смирнова помогла девочке раскрыть себя в творчестве и научила различным техникам живописи. По словам Елены, она прекрасно помнит момент, 
                                        когда картины Маши вышли на качественно новый уровень. «Это было в сентябре 2013г. Дочка написала картину «Дождь», которая удивила не только меня, но и преподавателя. 
                                        Несколько профессиональных художников очень высоко оценили мастерство исполнения.…»
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="overlay lazy" data-src="/img/birdy.png" data-lx="43" data-ly="40" data-mx="65" data-my="40" data-h-depth="0.002" data-v-depth="0.01"></div>
                        <div class="overlay lazy" data-src="/img/plants_birdy.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.005" data-v-depth="0.01"></div>
                    </div>
                    <div class="swiper-slide lazy" data-header="Успех" data-src="/img/slides/slide1.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col m6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/success.jpg">
                                </div>
                                <div class="col m5 offset-m1 s12">
                                    <h3>Успех</h3>
                                    <p>
                                        Первая персональная экспозиция «Взгляд ребёнка» открылась в ноябре 2016г., как раз в год окончания школы, в музее родного города, на которой Маша представила аудитории 40 своих работ. 
                                        2-я выставка состоялась в 2017г. в Краснодарском краевом музее им. Коваленко, тогда же девушка становится участницей V Всероссийской культурно- образовательной акции «Ночь искусств». 
                                        В 2018г она принимает участие в Международном форуме «Разные миры», где она получает Гран-при. На данный момент уже несколько профессиональных художников порекомендовали Маше найти учениц. 
                                        Крайне важно, чтобы уникальная авторская техника письма не потерялась, а нашла своих продолжателей.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="overlay lazy" data-src="/img/bird2.png" data-lx="43" data-ly="2" data-mx="65" data-my="40" data-h-depth="0.002" data-v-depth="0.01"></div>
                        <div class="overlay lazy" data-src="/img/bird1.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.005" data-v-depth="0.01"></div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </section>
        <section id="gallery">
            <div class="center-align">
                <h2>Мои работы</h2>
            </div>
            <div class="gallery-wrapper">
                [[!galleryRand? &tpl=`mainPage_galleryTpl` &count=`10` &parent=`2`]]
            </div>
            <div class="center-align">
                <a href="[[~2]]" class="btn">Смотреть все работы</a>
            </div>
        </section>
        <section id="check-yourself">
            <div class="container">
                <div class="row">
                    <div class="col l6 offset-l3 center-align">
                        [[$quiz_[[!lingua.cultureKey]]]]
                    </div>
                </div>
            </div>
        </section>',
    'richtext' => 1,
    'template' => 1,
    'menuindex' => 0,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1628244737,
    'editedby' => 1,
    'editedon' => 1628768119,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 0,
    'publishedby' => 0,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => 'main.html',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    '_content' => '<!doctype html>
<html lang="[[!lingua.cultureKey]]">
<head>
    <link rel="stylesheet" href="/css/master.css">
<title>MODX Revolution – Главная</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <header>
    <div class="logo-wrapper">
        <a href="/" class="logo" style="background-image:url(/img/logo-[[!lingua.cultureKey?]].svg)">&nbsp;</a>
    </div>
    <div class="menu-wrapper">
        [[!lingua.selector?
            &tplWrapper=`linguaWrapper`
            &tplItem=`linguaItem`
        ]]
    </div>
    <div class="burger-wrapper">
        <a class="menu-trigger"></a>
        <div class="menu-background"></div>
    </div>
    <nav>
        <ul id="topnav"[+wf.classes+]>
    <li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>

    <li>
        <div class="divider"></div>
    </li>
    <li class="networks"><a href="https://www.instagram.com/mordvintsevamariia/" rel="nofollow"><i class="mdi mdi-instagram"></i></a></li>
</ul>
    </nav>
    <div class="divider"></div>
</header>
    <main id="main">
                <section id="hero" class="visible">
            <div class="hero-logo logo" data-speed="0" data-blur="0">
                <img src="/img/logo-[[!lingua.cultureKey]].svg" alt="">
                <h1>#Маша солнце</h1>
                <span>Мир особого художника</span>
            </div>
            <div class="layer-parallax">
                <div class="layer lazy" data-speed="5" data-blur="1.5" data-src="/img/layers/flowers.png"></div>
                <div class="layer lazy" data-speed="3" data-blur="0.3" data-src="/img/layers/grass.png"></div>
                <div class="layer lazy" data-speed="1.6" data-blur="0.1" data-src="/img/layers/mountains.png"></div>
                <div class="layer lazy" data-speed="1" data-blur="0" data-src="/img/layers/sky.png"></div>
            </div>
        </section>
        <section id="about">
            <div class="container">
                <div class="row flex">
                    <div class="col s12 center-align">
                        <h2>Обо мне</h2>
                    </div>
                </div>
            </div>
            <div class="swiper-container" id="swiper-about">
                <div class="swiper-wrapper">
                    <div class="swiper-slide lazy" data-header="Детство" data-src="/img/slides/slide3.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col l6 xl6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/childhood.jpg">
                                </div>
                                <div class="col l6 xl5 offset-xl1 s12">
                                    <h3>Детство</h3>
                                    <p>
                                        Мордвинцева Мария Георгиевна родилась летом 2000г. в городе Ленинск-Кузнецкий Кемеровской области. Елена (мама девочки) вложила много сил и любви в дочку – как только Маша начала сидеть, 
                                        она сажала её на колени и читала детские книжки, а девочка рассматривала картинки, запоминала животных, персонажей и цвета. Так началось её увлечение рисунками. Весной 2004г. 
                                        семья переехала в город-курорт Горячий ключ. Там Маша и начала рисовать. Сначала, по словам мамы это были «каля-маля», но постепенно рисунки Маши становились всё более осмысленными.
                                    </p>
                                </div>
                            </div>
                            <div class="overlay lazy" data-src="/img/plant1.png" data-lx="38" data-ly="40" data-mx="65" data-my="40" data-h-depth="0.001" data-v-depth="0.01"></div>
                            <div class="overlay lazy" data-src="/img/plant.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.002" data-v-depth="0.02"></div>
                        </div>
                    </div>
                    <div class="swiper-slide lazy" data-header="Становление" data-src="/img/slides/slide2.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col m6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/becoming.jpg">
                                </div>
                                <div class="col m5 offset-m1 s12">
                                    <h3>Становление</h3>
                                    <p>
                                        В 2007-м году, как и все, девочка пошла в школу. В соседнем подъезде открылась художественная студия «Розовый кот», куда Маша записалась сразу же, и ходит в неё уже почти 13 лет. 
                                        Руководитель студии Жанна Викторовна Смирнова помогла девочке раскрыть себя в творчестве и научила различным техникам живописи. По словам Елены, она прекрасно помнит момент, 
                                        когда картины Маши вышли на качественно новый уровень. «Это было в сентябре 2013г. Дочка написала картину «Дождь», которая удивила не только меня, но и преподавателя. 
                                        Несколько профессиональных художников очень высоко оценили мастерство исполнения.…»
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="overlay lazy" data-src="/img/birdy.png" data-lx="43" data-ly="40" data-mx="65" data-my="40" data-h-depth="0.002" data-v-depth="0.01"></div>
                        <div class="overlay lazy" data-src="/img/plants_birdy.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.005" data-v-depth="0.01"></div>
                    </div>
                    <div class="swiper-slide lazy" data-header="Успех" data-src="/img/slides/slide1.jpg">
                        <div class="container">
                            <div class="row">
                                <div class="col m6 s12">
                                    <img src="/img/lazy-placeholder.jpg" alt="" class="responsive-img hide-m-down lazy" data-src="/img/slides/success.jpg">
                                </div>
                                <div class="col m5 offset-m1 s12">
                                    <h3>Успех</h3>
                                    <p>
                                        Первая персональная экспозиция «Взгляд ребёнка» открылась в ноябре 2016г., как раз в год окончания школы, в музее родного города, на которой Маша представила аудитории 40 своих работ. 
                                        2-я выставка состоялась в 2017г. в Краснодарском краевом музее им. Коваленко, тогда же девушка становится участницей V Всероссийской культурно- образовательной акции «Ночь искусств». 
                                        В 2018г она принимает участие в Международном форуме «Разные миры», где она получает Гран-при. На данный момент уже несколько профессиональных художников порекомендовали Маше найти учениц. 
                                        Крайне важно, чтобы уникальная авторская техника письма не потерялась, а нашла своих продолжателей.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="overlay lazy" data-src="/img/bird2.png" data-lx="43" data-ly="2" data-mx="65" data-my="40" data-h-depth="0.002" data-v-depth="0.01"></div>
                        <div class="overlay lazy" data-src="/img/bird1.png" data-lx="75" data-ly="70" data-mx="90" data-my="70" data-h-depth="0.005" data-v-depth="0.01"></div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </section>
        <section id="gallery">
            <div class="center-align">
                <h2>Мои работы</h2>
            </div>
            <div class="gallery-wrapper">
                [[!galleryRand? &tpl=`mainPage_galleryTpl` &count=`10` &parent=`2`]]
            </div>
            <div class="center-align">
                <a href="gallery/" class="btn">Смотреть все работы</a>
            </div>
        </section>
        <section id="check-yourself">
            <div class="container">
                <div class="row">
                    <div class="col l6 offset-l3 center-align">
                        [[$quiz_[[!lingua.cultureKey]]]]
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="center-align">
    <a href="/" class="footer-logo lazy" data-src="/img/logo-[[!lingua.cultureKey]].svg"></a>
    <ul><li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>
</ul>
</footer>
    <script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/swiper-bundle.js"></script>
<script src="/js/master.js"></script>
    [[$modal-[[!lingua.cultureKey]]]]
</body>
</html>',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[$head]]' => '<link rel="stylesheet" href="/css/master.css">
<title>MODX Revolution – Главная</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">',
    '[[lingua.getValue:default=`Главная`? &id=`1` &field=`longtitle`]]' => 'Добро пожаловать!',
    '[[lingua.getValue:default=`Главная`? &id=`1` &field=`pagetitle`]]' => 'Главная',
    '[[lingua.getValue:default=`Галерея`? &id=`2` &field=`longtitle`]]' => 'Мои картины',
    '[[lingua.getValue:default=`Галерея`? &id=`2` &field=`pagetitle`]]' => 'Галерея',
    '[[lingua.getValue:default=`От создателей`? &id=`3` &field=`longtitle`]]' => 'Пара слов от создателей',
    '[[lingua.getValue:default=`От создателей`? &id=`3` &field=`pagetitle`]]' => 'От создателей',
    '[[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow` & outerTpl=`wfTpl`]]' => '<ul id="topnav"[+wf.classes+]>
    <li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>

    <li>
        <div class="divider"></div>
    </li>
    <li class="networks"><a href="https://www.instagram.com/mordvintsevamariia/" rel="nofollow"><i class="mdi mdi-instagram"></i></a></li>
</ul>',
    '[[$header]]' => '<header>
    <div class="logo-wrapper">
        <a href="/" class="logo" style="background-image:url(/img/logo-[[!lingua.cultureKey?]].svg)">&nbsp;</a>
    </div>
    <div class="menu-wrapper">
        [[!lingua.selector?
            &tplWrapper=`linguaWrapper`
            &tplItem=`linguaItem`
        ]]
    </div>
    <div class="burger-wrapper">
        <a class="menu-trigger"></a>
        <div class="menu-background"></div>
    </div>
    <nav>
        <ul id="topnav"[+wf.classes+]>
    <li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>

    <li>
        <div class="divider"></div>
    </li>
    <li class="networks"><a href="https://www.instagram.com/mordvintsevamariia/" rel="nofollow"><i class="mdi mdi-instagram"></i></a></li>
</ul>
    </nav>
    <div class="divider"></div>
</header>',
    '[[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow`]]' => '<ul><li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>
</ul>',
    '[[$footer]]' => '<footer class="center-align">
    <a href="/" class="footer-logo lazy" data-src="/img/logo-[[!lingua.cultureKey]].svg"></a>
    <ul><li class="first active">
    <a href="http://masha-sun.local/" title="Добро пожаловать!" >
        <!--  -->
        Главная
    </a>
    
</li>
<li>
    <a href="gallery/" title="Мои картины" >
        <!--  -->
        Галерея
    </a>
    
</li>
<li class="last">
    <a href="by-creators.html" title="Пара слов от создателей" >
        <!--  -->
        От создателей
    </a>
    
</li>
</ul>
</footer>',
    '[[$scripts]]' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/swiper-bundle.js"></script>
<script src="/js/master.js"></script>',
    '[[$quiz_ru]]' => '    <div id="quiz" data-lang="ru">
        <form class="quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3 class="quiz-header">Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <p>
                        Попробуйте угадать, какие работы принадлежат<br>кисти профессиональных художников, <br>
                        а какие – результат творчества Маши! 
                    </p>
                </div>
            </div>
        </form>
        <div class="quiz-footer">
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
    '[[$modal-ru]]' => '    <div class="modal" id="quiz" data-lang="ru">
        <form class="modal-content quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3>Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col s6">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col s6">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <a class="btn-flat waves-effect waves-dark left modal-close">Закрыть</a>
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
      'head' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'head',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<link rel="stylesheet" href="/css/master.css">
<title>[[++site_name]] – [[*pagetitle]]</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<link rel="stylesheet" href="/css/master.css">
<title>[[++site_name]] – [[*pagetitle]]</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'header' => 
      array (
        'fields' => 
        array (
          'id' => 2,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'header',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<header>
    <div class="logo-wrapper">
        <a href="/" class="logo" style="background-image:url(/img/logo-[[!lingua.cultureKey?]].svg)">&nbsp;</a>
    </div>
    <div class="menu-wrapper">
        [[!lingua.selector?
            &tplWrapper=`linguaWrapper`
            &tplItem=`linguaItem`
        ]]
    </div>
    <div class="burger-wrapper">
        <a class="menu-trigger"></a>
        <div class="menu-background"></div>
    </div>
    <nav>
        [[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow` & outerTpl=`wfTpl`]]
    </nav>
    <div class="divider"></div>
</header>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<header>
    <div class="logo-wrapper">
        <a href="/" class="logo" style="background-image:url(/img/logo-[[!lingua.cultureKey?]].svg)">&nbsp;</a>
    </div>
    <div class="menu-wrapper">
        [[!lingua.selector?
            &tplWrapper=`linguaWrapper`
            &tplItem=`linguaItem`
        ]]
    </div>
    <div class="burger-wrapper">
        <a class="menu-trigger"></a>
        <div class="menu-background"></div>
    </div>
    <nav>
        [[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow` & outerTpl=`wfTpl`]]
    </nav>
    <div class="divider"></div>
</header>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'footer' => 
      array (
        'fields' => 
        array (
          'id' => 9,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'footer',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<footer class="center-align">
    <a href="/" class="footer-logo lazy" data-src="/img/logo-[[!lingua.cultureKey]].svg"></a>
    [[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow`]]
</footer>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<footer class="center-align">
    <a href="/" class="footer-logo lazy" data-src="/img/logo-[[!lingua.cultureKey]].svg"></a>
    [[Wayfinder? &level=`1` &startId=`0` &rowTpl=`wfRow`]]
</footer>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'scripts' => 
      array (
        'fields' => 
        array (
          'id' => 5,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'scripts',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/swiper-bundle.js"></script>
<script src="/js/master.js"></script>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/swiper-bundle.js"></script>
<script src="/js/master.js"></script>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'linguaItem' => 
      array (
        'fields' => 
        array (
          'id' => 4,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'linguaItem',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '[[+lingua.cultureKey:is=`[[+lingua.lang_code]]`:then=``:else=`<li>
    <a href="[[+lingua.url]]" title="[[+lingua.local_name]]">
        <span class="hide-m-down">[[+lingua.local_name]]</span>
        <span class="hide-m-up">[[+lingua.lang_code]]</span>
    </a>
</li>`]]',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '[[+lingua.cultureKey:is=`[[+lingua.lang_code]]`:then=``:else=`<li>
    <a href="[[+lingua.url]]" title="[[+lingua.local_name]]">
        <span class="hide-m-down">[[+lingua.local_name]]</span>
        <span class="hide-m-up">[[+lingua.lang_code]]</span>
    </a>
</li>`]]',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'linguaWrapper' => 
      array (
        'fields' => 
        array (
          'id' => 3,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'linguaWrapper',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<ul>
    <li class="language_selector">
        <span class="hide-m-down">[[!currentCulture]]</span><span class="hide-m-up">[[+lingua.cultureKey]]</span>
        <ul class="available-langs">
            [[+lingua.languages]]
        </ul>
    </li>
</ul>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<ul>
    <li class="language_selector">
        <span class="hide-m-down">[[!currentCulture]]</span><span class="hide-m-up">[[+lingua.cultureKey]]</span>
        <ul class="available-langs">
            [[+lingua.languages]]
        </ul>
    </li>
</ul>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'mainPage_galleryTpl' => 
      array (
        'fields' => 
        array (
          'id' => 19,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'mainPage_galleryTpl',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<div class="picture">
    <div class="picture-image lazy materialboxed" data-src="/[[+img-url]]" style="padding-top: [[+padding-top]]%"></div>
    <div class="picture-name">
        [[+title]]
    </div>
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<div class="picture">
    <div class="picture-image lazy materialboxed" data-src="/[[+img-url]]" style="padding-top: [[+padding-top]]%"></div>
    <div class="picture-name">
        [[+title]]
    </div>
</div>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'quiz_ru' => 
      array (
        'fields' => 
        array (
          'id' => 22,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'quiz_ru',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '    <div id="quiz" data-lang="ru">
        <form class="quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3 class="quiz-header">Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <p>
                        Попробуйте угадать, какие работы принадлежат<br>кисти профессиональных художников, <br>
                        а какие – результат творчества Маши! 
                    </p>
                </div>
            </div>
        </form>
        <div class="quiz-footer">
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '    <div id="quiz" data-lang="ru">
        <form class="quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3 class="quiz-header">Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col m6 s12">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <p>
                        Попробуйте угадать, какие работы принадлежат<br>кисти профессиональных художников, <br>
                        а какие – результат творчества Маши! 
                    </p>
                </div>
            </div>
        </form>
        <div class="quiz-footer">
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'modal-ru' => 
      array (
        'fields' => 
        array (
          'id' => 6,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'modal-ru',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '    <div class="modal" id="quiz" data-lang="ru">
        <form class="modal-content quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3>Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col s6">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col s6">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <a class="btn-flat waves-effect waves-dark left modal-close">Закрыть</a>
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '    <div class="modal" id="quiz" data-lang="ru">
        <form class="modal-content quiz-form">
            <div class="row no-margin">
                <div class="col s12">
                    <h3>Выберите, какую из работ нарисовала Маша?</h3>
                </div>
            </div>
            <div class="row quiz-container no-margin">
                <div class="col s6">
                    <input type="radio" name="answer" value="1" id="quiz-var1">
                    <label for="quiz-var1" id="label-var1"></label>
                </div>
                <div class="col s6">
                    <input type="radio" name="answer" value="2" id="quiz-var2">
                    <label for="quiz-var2" id="label-var2"></label>
                </div>
            </div>
            <div class="row results-container no-margin hidden">
                <div class="col m6 s12">
                    Иллюстрация
                </div>
                <div class="col m6 s12">
                    <p class="scores"><b>Итак, Ваши результаты:</b> <br> вы угадали: <span id="quiz-right" class="quiz-result"></span> из <span id="quiz-total" class="quiz-result"></span> (<span id="quiz-percent" class="quiz-result"></span>)</p>
                    <p>
                       <span id="quiz-conclusion"></span> Надеемся, Вам понравилось наше небольшое испытание. Вы можете ознакомиться 
                       с другими картинами Маши в <a href="/gallery.html">галерее работ</a>.
                    </p>
                </div>
            </div>
            <div class="row no-margin">
                <div class="col s12">
                    <ul id="quiz-steps"></ul>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <a class="btn-flat waves-effect waves-dark left modal-close">Закрыть</a>
            <a class="btn waves-effect waves-light" id="quiz-next" data-repeat="Повторить" data-next="Далее">Далее</a>
        </div>
    </div>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modSnippet' => 
    array (
      'Wayfinder' => 
      array (
        'fields' => 
        array (
          'id' => 6,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'Wayfinder',
          'description' => 'Wayfinder for MODx Revolution 2.0.0-beta-5 and later.',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
          'locked' => false,
          'properties' => 
          array (
            'level' => 
            array (
              'name' => 'level',
              'desc' => 'prop_wayfinder.level_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Depth (number of levels) to build the menu from. 0 goes through all levels.',
              'area' => '',
              'area_trans' => '',
            ),
            'includeDocs' => 
            array (
              'name' => 'includeDocs',
              'desc' => 'prop_wayfinder.includeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will limit the output to only the documents specified in this parameter. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'excludeDocs' => 
            array (
              'name' => 'excludeDocs',
              'desc' => 'prop_wayfinder.excludeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will remove the documents specified in this parameter from the output. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'contexts' => 
            array (
              'name' => 'contexts',
              'desc' => 'prop_wayfinder.contexts_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Specify the contexts for the Resources that will be loaded in this menu. Useful when used with startId at 0 to show all first-level items. Note: This will increase load times a bit, but if you set cacheResults to 1, that will offset the load time.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheResults' => 
            array (
              'name' => 'cacheResults',
              'desc' => 'prop_wayfinder.cacheResults_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Cache the generated menu to the MODX Resource cache. Setting this to 1 will speed up the loading of your menus.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheTime' => 
            array (
              'name' => 'cacheTime',
              'desc' => 'prop_wayfinder.cacheTime_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 3600,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The number of seconds to store the cached menu, if cacheResults is 1. Set to 0 to store indefinitely until cache is manually cleared.',
              'area' => '',
              'area_trans' => '',
            ),
            'ph' => 
            array (
              'name' => 'ph',
              'desc' => 'prop_wayfinder.ph_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'To display send the output of Wayfinder to a placeholder set the ph parameter equal to the name of the desired placeholder. All output including the debugging (if on) will be sent to the placeholder specified.',
              'area' => '',
              'area_trans' => '',
            ),
            'debug' => 
            array (
              'name' => 'debug',
              'desc' => 'prop_wayfinder.debug_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'With the debug parameter set to 1, Wayfinder will output information on how each Resource was processed.',
              'area' => '',
              'area_trans' => '',
            ),
            'ignoreHidden' => 
            array (
              'name' => 'ignoreHidden',
              'desc' => 'prop_wayfinder.ignoreHidden_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The ignoreHidden parameter allows Wayfinder to ignore the display in menu flag that can be set for each document. With this parameter set to 1, all Resources will be displayed regardless of the Display in Menu flag.',
              'area' => '',
              'area_trans' => '',
            ),
            'hideSubMenus' => 
            array (
              'name' => 'hideSubMenus',
              'desc' => 'prop_wayfinder.hideSubMenus_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The hideSubMenus parameter will remove all non-active submenus from the Wayfinder output if set to 1. This parameter only works if multiple levels are being displayed.',
              'area' => '',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'prop_wayfinder.useWeblinkUrl_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => ' If WebLinks are used in the output, Wayfinder will output the link specified in the WebLink instead of the normal MODx link. To use the standard display of WebLinks (like any other Resource) set this to 0.',
              'area' => '',
              'area_trans' => '',
            ),
            'fullLink' => 
            array (
              'name' => 'fullLink',
              'desc' => 'prop_wayfinder.fullLink_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set to 1, will display the entire, absolute URL in the link. (It is recommended to use scheme instead.)',
              'area' => '',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'prop_wayfinder.scheme_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.relative',
                  'value' => '',
                  'name' => 'Relative',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.absolute',
                  'value' => 'abs',
                  'name' => 'Absolute',
                ),
                2 => 
                array (
                  'text' => 'prop_wayfinder.full',
                  'value' => 'full',
                  'name' => 'Full',
                ),
              ),
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Determines how URLs are generated for each link. Set to "abs" to show the absolute URL, "full" to show the full URL, and blank to use the relative URL. Defaults to relative.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortOrder' => 
            array (
              'name' => 'sortOrder',
              'desc' => 'prop_wayfinder.sortOrder_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.ascending',
                  'value' => 'ASC',
                  'name' => 'Ascending',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.descending',
                  'value' => 'DESC',
                  'name' => 'Descending',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Allows the menu to be sorted in either ascending or descending order.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortBy' => 
            array (
              'name' => 'sortBy',
              'desc' => 'prop_wayfinder.sortBy_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menuindex',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Sorts the output by any of the Resource fields on a level by level basis. This means that each submenu will be sorted independently of all other submenus at the same level. Random will sort the output differently every time the page is loaded if the snippet is called uncached.',
              'area' => '',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'prop_wayfinder.limit_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Causes Wayfinder to only process the number of items specified per level.',
              'area' => '',
              'area_trans' => '',
            ),
            'cssTpl' => 
            array (
              'name' => 'cssTpl',
              'desc' => 'prop_wayfinder.cssTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing a link to a style sheet or style information to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'jsTpl' => 
            array (
              'name' => 'jsTpl',
              'desc' => 'prop_wayfinder.jsTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing some Javascript to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowIdPrefix' => 
            array (
              'name' => 'rowIdPrefix',
              'desc' => 'prop_wayfinder.rowIdPrefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set, Wayfinder will replace the id placeholder with a unique id consisting of the specified prefix plus the Resource id.',
              'area' => '',
              'area_trans' => '',
            ),
            'textOfLinks' => 
            array (
              'name' => 'textOfLinks',
              'desc' => 'prop_wayfinder.textOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menutitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktext placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'titleOfLinks' => 
            array (
              'name' => 'titleOfLinks',
              'desc' => 'prop_wayfinder.titleOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'pagetitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktitle placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'displayStart' => 
            array (
              'name' => 'displayStart',
              'desc' => 'prop_wayfinder.displayStart_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Show the document as referenced by startId in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'firstClass' => 
            array (
              'name' => 'firstClass',
              'desc' => 'prop_wayfinder.firstClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'first',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the first item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'lastClass' => 
            array (
              'name' => 'lastClass',
              'desc' => 'prop_wayfinder.lastClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'last',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the last item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereClass' => 
            array (
              'name' => 'hereClass',
              'desc' => 'prop_wayfinder.hereClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'active',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the items showing where you are, all the way up the chain.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentClass' => 
            array (
              'name' => 'parentClass',
              'desc' => 'prop_wayfinder.parentClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for menu items that are a container and have children.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowClass' => 
            array (
              'name' => 'rowClass',
              'desc' => 'prop_wayfinder.rowClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting each output row.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerClass' => 
            array (
              'name' => 'outerClass',
              'desc' => 'prop_wayfinder.outerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the outer template.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerClass' => 
            array (
              'name' => 'innerClass',
              'desc' => 'prop_wayfinder.innerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the inner template.',
              'area' => '',
              'area_trans' => '',
            ),
            'levelClass' => 
            array (
              'name' => 'levelClass',
              'desc' => 'prop_wayfinder.levelClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting every output row level. The level number will be added to the specified class (level1, level2, level3 etc if you specified "level").',
              'area' => '',
              'area_trans' => '',
            ),
            'selfClass' => 
            array (
              'name' => 'selfClass',
              'desc' => 'prop_wayfinder.selfClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the current item.',
              'area' => '',
              'area_trans' => '',
            ),
            'webLinkClass' => 
            array (
              'name' => 'webLinkClass',
              'desc' => 'prop_wayfinder.webLinkClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for weblink items.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerTpl' => 
            array (
              'name' => 'outerTpl',
              'desc' => 'prop_wayfinder.outerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the outer most container; if not included, a string including "<ul>[[+wf.wrapper]]</ul>" is assumed.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowTpl' => 
            array (
              'name' => 'rowTpl',
              'desc' => 'prop_wayfinder.rowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the regular row items.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowTpl' => 
            array (
              'name' => 'parentRowTpl',
              'desc' => 'prop_wayfinder.parentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for any Resource that is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowHereTpl' => 
            array (
              'name' => 'parentRowHereTpl',
              'desc' => 'prop_wayfinder.parentRowHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereTpl' => 
            array (
              'name' => 'hereTpl',
              'desc' => 'prop_wayfinder.hereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerTpl' => 
            array (
              'name' => 'innerTpl',
              'desc' => 'prop_wayfinder.innerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for each submenu. If no innerTpl is specified the outerTpl is used in its place.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerRowTpl' => 
            array (
              'name' => 'innerRowTpl',
              'desc' => 'prop_wayfinder.innerRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the row items in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerHereTpl' => 
            array (
              'name' => 'innerHereTpl',
              'desc' => 'prop_wayfinder.innerHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'activeParentRowTpl' => 
            array (
              'name' => 'activeParentRowTpl',
              'desc' => 'prop_wayfinder.activeParentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for items that are containers, have children and are currently active in the tree.',
              'area' => '',
              'area_trans' => '',
            ),
            'categoryFoldersTpl' => 
            array (
              'name' => 'categoryFoldersTpl',
              'desc' => 'prop_wayfinder.categoryFoldersTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for category folders. Category folders are determined by setting the template to blank or by setting the link attributes field to rel="category".',
              'area' => '',
              'area_trans' => '',
            ),
            'startItemTpl' => 
            array (
              'name' => 'startItemTpl',
              'desc' => 'prop_wayfinder.startItemTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the start item, if enabled via the &displayStart parameter. Note: the default template shows the start item but does not link it. If you do not need a link, a class can be applied to the default template using the parameter &firstClass=`className`.',
              'area' => '',
              'area_trans' => '',
            ),
            'permissions' => 
            array (
              'name' => 'permissions',
              'desc' => 'prop_wayfinder.permissions_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'list',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Will check for a permission on the Resource. Defaults to "list" - set to blank to skip normal permissions checks.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereId' => 
            array (
              'name' => 'hereId',
              'desc' => 'prop_wayfinder.hereId_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set, will change the "here" Resource to this ID. Defaults to the currently active Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'prop_wayfinder.where_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A JSON object for where conditions for all items selected in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'templates' => 
            array (
              'name' => 'templates',
              'desc' => 'prop_wayfinder.templates_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A comma-separated list of Template IDs to restrict selected Resources to.',
              'area' => '',
              'area_trans' => '',
            ),
            'previewUnpublished' => 
            array (
              'name' => 'previewUnpublished',
              'desc' => 'prop_wayfinder.previewunpublished_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set to Yes, if you are logged into the mgr and have the view_unpublished permission, it will allow previewing of unpublished resources in your menus in the front-end.',
              'area' => '',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'lingua.getValue' => 
      array (
        'fields' => 
        array (
          'id' => 33,
          'source' => 0,
          'property_preprocess' => true,
          'name' => 'lingua.getValue',
          'description' => 'Get the value of the clone\'s field for the run time culture key.',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_getfield
 */

$field = $modx->getOption(\'field\', $scriptProperties);
if (empty($field)) {
    return;
}

$id = $modx->getOption(\'id\', $scriptProperties, $modx->resource->get(\'id\'));
$emptyReturnsDefault = $modx->getOption(\'emptyReturnsDefault\', $scriptProperties, $modx->getOption(\'lingua.empty_returns_default\', null, false));

$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);
$debug = $modx->getOption(\'lingua.debug\');
if (!($lingua instanceof Lingua)) {
    $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: !($lingua instanceof Lingua)\');
    return;
}

$langObj = $modx->getObject(\'linguaLangs\', array(
    \'lang_code\' => $modx->cultureKey
));
if (!$langObj) {
    if ($debug) {
        $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: Missing field\\\'s value for \' . $field . \' in \' . $modx->cultureKey);
    }
    return;
}
$c = $modx->newQuery(\'linguaSiteContent\');
$c->where(array(
    \'resource_id\' => $id,
    \'lang_id\' => $langObj->get(\'id\'),
));
$linguaSiteContent = $modx->getObject(\'linguaSiteContent\', $c);
$resource = $modx->getObject(\'modResource\', $id);
if (!$resource) {
    if ($debug) {
        $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: Missing resource for \' . $field . \' in \' . $modx->cultureKey);
    }
    return;
}

$tableFields = array(\'pagetitle\', \'longtitle\', \'description\', \'alias\',
    \'link_attributes\', \'introtext\', \'content\', \'menutitle\', \'uri\', \'uri_override\',
    \'properties\');
$output = \'\';
if (in_array($field, $tableFields)) {
    if ($linguaSiteContent) {
        $output = $linguaSiteContent->get($field);
        if (empty($output)) {
            if ($emptyReturnsDefault) {
                $output = $resource->get($field); // return default language\'s value
            }
        }
    } else {
        $output = $resource->get($field); // return default language\'s value
    }
}
// try TV
else {
    $tv = $modx->getObject(\'modTemplateVar\', array(
        \'name\' => $field,
    ));
    if ($tv) {
        $linguaSiteTmplvarContentvalues = $modx->getObject(\'linguaSiteTmplvarContentvalues\', array(
            \'lang_id\' => $langObj->get(\'id\'),
            \'tmplvarid\' => $tv->get(\'id\'),
            \'contentid\' => $id,
        ));
        if ($linguaSiteTmplvarContentvalues) {
            $value = $linguaSiteTmplvarContentvalues->get(\'value\');
            $tv->set(\'resourceId\', $id);
            if (empty($value) && !$emptyReturnsDefault) {
                $tv->set(\'value\', $value); // return empty value
            } else {
                $tv->set(\'value\', $value);
            }
        }
        $output = $tv->renderOutput($resource->get(\'id\'));
    }
}

return $output;',
          'locked' => false,
          'properties' => 
          array (
            'codeField' => 
            array (
              'name' => 'codeField',
              'desc' => 'prop_codeField_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lang_code',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Field name to be used for selector',
              'area_trans' => '',
            ),
            'getKey' => 
            array (
              'name' => 'getKey',
              'desc' => 'prop_getKey_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lang',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Request key',
              'area_trans' => '',
            ),
            'phsPrefix' => 
            array (
              'name' => 'phsPrefix',
              'desc' => 'prop_phsPrefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Additional prefix for templates',
              'area_trans' => '',
            ),
            'sortby' => 
            array (
              'name' => 'sortby',
              'desc' => 'prop_sortby_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ID',
                  'value' => 'id',
                  'name' => 'ID',
                ),
                1 => 
                array (
                  'text' => 'iso_code',
                  'value' => 'iso_code',
                  'name' => 'iso_code',
                ),
              ),
              'value' => 'id',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Sort the list by',
              'area_trans' => '',
            ),
            'sortdir' => 
            array (
              'name' => 'sortdir',
              'desc' => 'prop_sortdir_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'asc',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'desc',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'asc',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Sort direction',
              'area_trans' => '',
            ),
            'tplItem' => 
            array (
              'name' => 'tplItem',
              'desc' => 'prop_tplItem_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.selector.item',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Item template',
              'area_trans' => '',
            ),
            'tplWrapper' => 
            array (
              'name' => 'tplWrapper',
              'desc' => 'prop_tplWrapper_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.selector.wrapper',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Wrapper template',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_getfield
 */

$field = $modx->getOption(\'field\', $scriptProperties);
if (empty($field)) {
    return;
}

$id = $modx->getOption(\'id\', $scriptProperties, $modx->resource->get(\'id\'));
$emptyReturnsDefault = $modx->getOption(\'emptyReturnsDefault\', $scriptProperties, $modx->getOption(\'lingua.empty_returns_default\', null, false));

$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);
$debug = $modx->getOption(\'lingua.debug\');
if (!($lingua instanceof Lingua)) {
    $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: !($lingua instanceof Lingua)\');
    return;
}

$langObj = $modx->getObject(\'linguaLangs\', array(
    \'lang_code\' => $modx->cultureKey
));
if (!$langObj) {
    if ($debug) {
        $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: Missing field\\\'s value for \' . $field . \' in \' . $modx->cultureKey);
    }
    return;
}
$c = $modx->newQuery(\'linguaSiteContent\');
$c->where(array(
    \'resource_id\' => $id,
    \'lang_id\' => $langObj->get(\'id\'),
));
$linguaSiteContent = $modx->getObject(\'linguaSiteContent\', $c);
$resource = $modx->getObject(\'modResource\', $id);
if (!$resource) {
    if ($debug) {
        $modx->log(modX::LOG_LEVEL_ERROR, \'[lingua.getValue]: Missing resource for \' . $field . \' in \' . $modx->cultureKey);
    }
    return;
}

$tableFields = array(\'pagetitle\', \'longtitle\', \'description\', \'alias\',
    \'link_attributes\', \'introtext\', \'content\', \'menutitle\', \'uri\', \'uri_override\',
    \'properties\');
$output = \'\';
if (in_array($field, $tableFields)) {
    if ($linguaSiteContent) {
        $output = $linguaSiteContent->get($field);
        if (empty($output)) {
            if ($emptyReturnsDefault) {
                $output = $resource->get($field); // return default language\'s value
            }
        }
    } else {
        $output = $resource->get($field); // return default language\'s value
    }
}
// try TV
else {
    $tv = $modx->getObject(\'modTemplateVar\', array(
        \'name\' => $field,
    ));
    if ($tv) {
        $linguaSiteTmplvarContentvalues = $modx->getObject(\'linguaSiteTmplvarContentvalues\', array(
            \'lang_id\' => $langObj->get(\'id\'),
            \'tmplvarid\' => $tv->get(\'id\'),
            \'contentid\' => $id,
        ));
        if ($linguaSiteTmplvarContentvalues) {
            $value = $linguaSiteTmplvarContentvalues->get(\'value\');
            $tv->set(\'resourceId\', $id);
            if (empty($value) && !$emptyReturnsDefault) {
                $tv->set(\'value\', $value); // return empty value
            } else {
                $tv->set(\'value\', $value);
            }
        }
        $output = $tv->renderOutput($resource->get(\'id\'));
    }
}

return $output;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'lingua.cultureKey' => 
      array (
        'fields' => 
        array (
          'id' => 31,
          'source' => 0,
          'property_preprocess' => true,
          'name' => 'lingua.cultureKey',
          'description' => 'Helper snippet to get the run time cultureKey, which is set by lingua\'s plugin.',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_culture_key
 */

return $modx->cultureKey;',
          'locked' => false,
          'properties' => NULL,
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_culture_key
 */

return $modx->cultureKey;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'lingua.selector' => 
      array (
        'fields' => 
        array (
          'id' => 30,
          'source' => 0,
          'property_preprocess' => true,
          'name' => 'lingua.selector',
          'description' => 'Languages selector drop down.',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_selector
 */
$activeOnly = $modx->getOption(\'activeOnly\', $scriptProperties, \'1\');
$tplWrapper = $modx->getOption(\'tplWrapper\', $scriptProperties, \'lingua.selector.wrapper\');
$tplItem = $modx->getOption(\'tplItem\', $scriptProperties, \'lingua.selector.item\');
$langKey = $modx->getOption(\'getKey\', $scriptProperties, $modx->getOption(\'lingua.get_key\', null, \'lang\'));
$sortby = $modx->getOption(\'sortby\', $scriptProperties, \'id\');
$sortdir = $modx->getOption(\'sortdir\', $scriptProperties, \'asc\');
$phsPrefix = $modx->getOption(\'phsPrefix\', $scriptProperties, \'lingua.\');
$codeField = $modx->getOption(\'codeField\', $scriptProperties, \'lang_code\');

$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);

if (!($lingua instanceof Lingua)) {
    return;
}

$allowedContexts = $modx->getOption(\'lingua.contexts\');
$allowedContexts = array_map(\'trim\', @explode(\',\', $allowedContexts));
$currentContext = $modx->context->get(\'key\');
if (!in_array($currentContext, $allowedContexts)) {
    return;
}

$pageURL = \'http\';
if (isset($_SERVER["HTTPS"]) && $_SERVER["HTTPS"] == "on") {
    $pageURL .= "s";
}
$pageURL .= "://";
if ($_SERVER["SERVER_PORT"] !== "80") {
    $pageURL .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"] . $_SERVER["REQUEST_URI"];
} else {
    $pageURL .= $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"];
}
$parseUrl = parse_url($pageURL);
if (!empty($parseUrl[\'query\'])) {
    /**
     * http://stackoverflow.com/a/7753154/1246646
     */
    if (!function_exists(\'http_build_url\')) {
        define(\'HTTP_URL_REPLACE\', 1);              // Replace every part of the first URL when there\'s one of the second URL
        define(\'HTTP_URL_JOIN_PATH\', 2);            // Join relative paths
        define(\'HTTP_URL_JOIN_QUERY\', 4);           // Join query strings
        define(\'HTTP_URL_STRIP_USER\', 8);           // Strip any user authentication information
        define(\'HTTP_URL_STRIP_PASS\', 16);          // Strip any password authentication information
        define(\'HTTP_URL_STRIP_AUTH\', 32);          // Strip any authentication information
        define(\'HTTP_URL_STRIP_PORT\', 64);          // Strip explicit port numbers
        define(\'HTTP_URL_STRIP_PATH\', 128);         // Strip complete path
        define(\'HTTP_URL_STRIP_QUERY\', 256);        // Strip query string
        define(\'HTTP_URL_STRIP_FRAGMENT\', 512);     // Strip any fragments (#identifier)
        define(\'HTTP_URL_STRIP_ALL\', 1024);         // Strip anything but scheme and host

        /**
         * Build an URL<br>
         * The parts of the second URL will be merged into the first according to the flags argument.<br><br>
         *
         * @param	mixed	$url	(Part(s) of) an URL in form of a string or associative array like parse_url() returns
         * @param	mixed	$parts	Same as the first argument
         * @param	int		$flags	A bitmask of binary or\'ed HTTP_URL constants (Optional)HTTP_URL_REPLACE is the default
         * @param	array	$newUrl	If set, it will be filled with the parts of the composed url like parse_url() would return
         * @return	string			Built URL
         */
        function http_build_url($url, $parts = array(), $flags = HTTP_URL_REPLACE, &$newUrl = false) {
            $keys = array(\'user\', \'pass\', \'port\', \'path\', \'query\', \'fragment\');

            // HTTP_URL_STRIP_ALL becomes all the HTTP_URL_STRIP_Xs
            if ($flags & HTTP_URL_STRIP_ALL) {
                $flags |= HTTP_URL_STRIP_USER;
                $flags |= HTTP_URL_STRIP_PASS;
                $flags |= HTTP_URL_STRIP_PORT;
                $flags |= HTTP_URL_STRIP_PATH;
                $flags |= HTTP_URL_STRIP_QUERY;
                $flags |= HTTP_URL_STRIP_FRAGMENT;
            }
            // HTTP_URL_STRIP_AUTH becomes HTTP_URL_STRIP_USER and HTTP_URL_STRIP_PASS
            else if ($flags & HTTP_URL_STRIP_AUTH) {
                $flags |= HTTP_URL_STRIP_USER;
                $flags |= HTTP_URL_STRIP_PASS;
            }

            // Parse the original URL
            $parseUrl = parse_url($url);

            // Scheme and Host are always replaced
            if (isset($parts[\'scheme\']))
                $parseUrl[\'scheme\'] = $parts[\'scheme\'];
            if (isset($parts[\'host\']))
                $parseUrl[\'host\'] = $parts[\'host\'];

            // (If applicable) Replace the original URL with it\'s new parts
            if ($flags & HTTP_URL_REPLACE) {
                foreach ($keys as $key) {
                    if (isset($parts[$key]))
                        $parseUrl[$key] = $parts[$key];
                }
            }
            else {
                // Join the original URL path with the new path
                if (isset($parts[\'path\']) && ($flags & HTTP_URL_JOIN_PATH)) {
                    if (isset($parseUrl[\'path\']))
                        $parseUrl[\'path\'] = rtrim(str_replace(basename($parseUrl[\'path\']), \'\', $parseUrl[\'path\']), \'/\') . \'/\' . ltrim($parts[\'path\'], \'/\');
                    else
                        $parseUrl[\'path\'] = $parts[\'path\'];
                }

                // Join the original query string with the new query string
                if (isset($parts[\'query\']) && ($flags & HTTP_URL_JOIN_QUERY)) {
                    if (isset($parseUrl[\'query\']))
                        $parseUrl[\'query\'] .= \'&\' . $parts[\'query\'];
                    else
                        $parseUrl[\'query\'] = $parts[\'query\'];
                }
            }

            // Strips all the applicable sections of the URL
            // Note: Scheme and Host are never stripped
            foreach ($keys as $key) {
                if ($flags & (int) constant(\'HTTP_URL_STRIP_\' . strtoupper($key)))
                    unset($parseUrl[$key]);
            }

            $newUrl = $parseUrl;

            return
                    ((isset($parseUrl[\'scheme\'])) ? $parseUrl[\'scheme\'] . \'://\' : \'\')
                    . ((isset($parseUrl[\'user\'])) ? $parseUrl[\'user\'] . ((isset($parseUrl[\'pass\'])) ? \':\' . $parseUrl[\'pass\'] : \'\') . \'@\' : \'\')
                    . ((isset($parseUrl[\'host\'])) ? $parseUrl[\'host\'] : \'\')
                    . ((isset($parseUrl[\'port\'])) ? \':\' . $parseUrl[\'port\'] : \'\')
                    . ((isset($parseUrl[\'path\'])) ? $parseUrl[\'path\'] : \'\')
                    . ((isset($parseUrl[\'query\'])) ? \'?\' . $parseUrl[\'query\'] : \'\')
                    . ((isset($parseUrl[\'fragment\'])) ? \'#\' . $parseUrl[\'fragment\'] : \'\')
            ;
        }

    }

    parse_str($parseUrl[\'query\'], $queries);
    unset($queries[$langKey]);
    $parseUrl[\'query\'] = http_build_query($queries);

    $pageURL = http_build_url($pageURL, $parseUrl);
    $pageURL = urldecode($pageURL);
    // replace: &queryarray[0]=foo&queryarray[1]=bar
    // to:		&queryarray[]=foo&queryarray[]=bar
    $pageURL = preg_replace(\'/\\[+(\\d)+\\]+/\', \'[]\', $pageURL);
}

$pageURL = rtrim($pageURL, \'?\');
$hasQuery = strstr($pageURL, \'?\');

$originPageUrl = $pageURL;
$requestUri = preg_replace(\'/^\'. preg_quote(MODX_BASE_URL, \'/\') . \'/i\', \'\', $parseUrl[\'path\']);

// $modx->getOption(\'cultureKey\') is overriden by plugin!
$modCultureKey = $modx->getObject(\'modSystemSetting\', array(\'key\' => \'cultureKey\'));
$cultureKey = $modCultureKey->get(\'value\');

$baseUrl = $modx->getOption(\'base_url\', $scriptProperties);
$baseUrl = preg_replace(\'/^\'. preg_quote(MODX_BASE_URL, \'/\') . \'/i\', \'\', $baseUrl);
$originResource = $modx->getObject(\'modResource\', $modx->resource->get(\'id\'));

$languages = $lingua->getLanguages($activeOnly);
$selections = array();
foreach ($languages as $language) {
    if ($language[\'lang_code\'] === $modx->cultureKey) {
        continue;
    }

    $cloneSite = $modx->getObject(\'linguaSiteContent\', array(
        \'resource_id\' => $modx->resource->get(\'id\'),
        \'lang_id\' => $language[\'id\'],
    ));
    if ($modx->getOption(\'friendly_urls\')) {
        $itemUri = \'\';
        if ($language[\'lang_code\'] === $cultureKey) {
            $itemUri = $originResource->get(\'uri\');
        } elseif ($cloneSite) {
            $itemUri = $cloneSite->get(\'uri\');
        }
        if (!empty($itemUri)) {
            if ((int)$modx->getOption(\'site_start\') === $modx->resource->get(\'id\')) {
                $pageURL = $parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $parseUrl[\'path\'] . $itemUri;
            } else {
                $pageURL = preg_replace(\'/^\' . preg_quote($parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $requestUri, \'/\') . \'/i\'
                        , $parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $baseUrl . $itemUri
                        , $originPageUrl);
            }
        }
    }

    $language[\'url\'] = $pageURL . (!empty($hasQuery) ? \'&\' : \'?\') . $langKey . \'=\' . $language[$codeField];
    $phs = $lingua->setPlaceholders($language, $phsPrefix, false);

    if (!empty($toArray)) {
        $selections[] = $phs;
    } else {
        $selections[] = $lingua->parseTpl($tplItem, $phs);
    }
}

if (!empty($toArray)) {
    $wrapper = array(
        $phsPrefix . \'languages\' => $selections
    );
    $output = \'<pre>\' . print_r($wrapper, TRUE) . \'</pre>\';
} else {
    $selection = @implode("\\n", $selections);
    $wrapper = array($phsPrefix . \'languages\' => $selection);
    $output = $lingua->parseTpl($tplWrapper, $wrapper);
}
if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $output);
    return;
}
return $output;',
          'locked' => false,
          'properties' => 
          array (
            'codeField' => 
            array (
              'name' => 'codeField',
              'desc' => 'prop_codeField_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lang_code',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Field name to be used for selector',
              'area_trans' => '',
            ),
            'getKey' => 
            array (
              'name' => 'getKey',
              'desc' => 'prop_getKey_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lang',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Request key',
              'area_trans' => '',
            ),
            'phsPrefix' => 
            array (
              'name' => 'phsPrefix',
              'desc' => 'prop_phsPrefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Additional prefix for templates',
              'area_trans' => '',
            ),
            'sortby' => 
            array (
              'name' => 'sortby',
              'desc' => 'prop_sortby_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ID',
                  'value' => 'id',
                  'name' => 'ID',
                ),
                1 => 
                array (
                  'text' => 'iso_code',
                  'value' => 'iso_code',
                  'name' => 'iso_code',
                ),
              ),
              'value' => 'id',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Sort the list by',
              'area_trans' => '',
            ),
            'sortdir' => 
            array (
              'name' => 'sortdir',
              'desc' => 'prop_sortdir_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'asc',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'desc',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'asc',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Sort direction',
              'area_trans' => '',
            ),
            'tplItem' => 
            array (
              'name' => 'tplItem',
              'desc' => 'prop_tplItem_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.selector.item',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Item template',
              'area_trans' => '',
            ),
            'tplWrapper' => 
            array (
              'name' => 'tplWrapper',
              'desc' => 'prop_tplWrapper_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'lingua.selector.wrapper',
              'lexicon' => 'lingua:property',
              'area' => '',
              'desc_trans' => 'Wrapper template',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Lingua
 *
 * Copyright 2013-2015 by goldsky <goldsky@virtudraft.com>
 *
 * This file is part of Lingua, a MODX\'s Lexicon switcher for front-end interface
 *
 * Lingua is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation version 3.
 *
 * Lingua is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Lingua; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package lingua
 * @subpackage lingua_selector
 */
$activeOnly = $modx->getOption(\'activeOnly\', $scriptProperties, \'1\');
$tplWrapper = $modx->getOption(\'tplWrapper\', $scriptProperties, \'lingua.selector.wrapper\');
$tplItem = $modx->getOption(\'tplItem\', $scriptProperties, \'lingua.selector.item\');
$langKey = $modx->getOption(\'getKey\', $scriptProperties, $modx->getOption(\'lingua.get_key\', null, \'lang\'));
$sortby = $modx->getOption(\'sortby\', $scriptProperties, \'id\');
$sortdir = $modx->getOption(\'sortdir\', $scriptProperties, \'asc\');
$phsPrefix = $modx->getOption(\'phsPrefix\', $scriptProperties, \'lingua.\');
$codeField = $modx->getOption(\'codeField\', $scriptProperties, \'lang_code\');

$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);

if (!($lingua instanceof Lingua)) {
    return;
}

$allowedContexts = $modx->getOption(\'lingua.contexts\');
$allowedContexts = array_map(\'trim\', @explode(\',\', $allowedContexts));
$currentContext = $modx->context->get(\'key\');
if (!in_array($currentContext, $allowedContexts)) {
    return;
}

$pageURL = \'http\';
if (isset($_SERVER["HTTPS"]) && $_SERVER["HTTPS"] == "on") {
    $pageURL .= "s";
}
$pageURL .= "://";
if ($_SERVER["SERVER_PORT"] !== "80") {
    $pageURL .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"] . $_SERVER["REQUEST_URI"];
} else {
    $pageURL .= $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"];
}
$parseUrl = parse_url($pageURL);
if (!empty($parseUrl[\'query\'])) {
    /**
     * http://stackoverflow.com/a/7753154/1246646
     */
    if (!function_exists(\'http_build_url\')) {
        define(\'HTTP_URL_REPLACE\', 1);              // Replace every part of the first URL when there\'s one of the second URL
        define(\'HTTP_URL_JOIN_PATH\', 2);            // Join relative paths
        define(\'HTTP_URL_JOIN_QUERY\', 4);           // Join query strings
        define(\'HTTP_URL_STRIP_USER\', 8);           // Strip any user authentication information
        define(\'HTTP_URL_STRIP_PASS\', 16);          // Strip any password authentication information
        define(\'HTTP_URL_STRIP_AUTH\', 32);          // Strip any authentication information
        define(\'HTTP_URL_STRIP_PORT\', 64);          // Strip explicit port numbers
        define(\'HTTP_URL_STRIP_PATH\', 128);         // Strip complete path
        define(\'HTTP_URL_STRIP_QUERY\', 256);        // Strip query string
        define(\'HTTP_URL_STRIP_FRAGMENT\', 512);     // Strip any fragments (#identifier)
        define(\'HTTP_URL_STRIP_ALL\', 1024);         // Strip anything but scheme and host

        /**
         * Build an URL<br>
         * The parts of the second URL will be merged into the first according to the flags argument.<br><br>
         *
         * @param	mixed	$url	(Part(s) of) an URL in form of a string or associative array like parse_url() returns
         * @param	mixed	$parts	Same as the first argument
         * @param	int		$flags	A bitmask of binary or\'ed HTTP_URL constants (Optional)HTTP_URL_REPLACE is the default
         * @param	array	$newUrl	If set, it will be filled with the parts of the composed url like parse_url() would return
         * @return	string			Built URL
         */
        function http_build_url($url, $parts = array(), $flags = HTTP_URL_REPLACE, &$newUrl = false) {
            $keys = array(\'user\', \'pass\', \'port\', \'path\', \'query\', \'fragment\');

            // HTTP_URL_STRIP_ALL becomes all the HTTP_URL_STRIP_Xs
            if ($flags & HTTP_URL_STRIP_ALL) {
                $flags |= HTTP_URL_STRIP_USER;
                $flags |= HTTP_URL_STRIP_PASS;
                $flags |= HTTP_URL_STRIP_PORT;
                $flags |= HTTP_URL_STRIP_PATH;
                $flags |= HTTP_URL_STRIP_QUERY;
                $flags |= HTTP_URL_STRIP_FRAGMENT;
            }
            // HTTP_URL_STRIP_AUTH becomes HTTP_URL_STRIP_USER and HTTP_URL_STRIP_PASS
            else if ($flags & HTTP_URL_STRIP_AUTH) {
                $flags |= HTTP_URL_STRIP_USER;
                $flags |= HTTP_URL_STRIP_PASS;
            }

            // Parse the original URL
            $parseUrl = parse_url($url);

            // Scheme and Host are always replaced
            if (isset($parts[\'scheme\']))
                $parseUrl[\'scheme\'] = $parts[\'scheme\'];
            if (isset($parts[\'host\']))
                $parseUrl[\'host\'] = $parts[\'host\'];

            // (If applicable) Replace the original URL with it\'s new parts
            if ($flags & HTTP_URL_REPLACE) {
                foreach ($keys as $key) {
                    if (isset($parts[$key]))
                        $parseUrl[$key] = $parts[$key];
                }
            }
            else {
                // Join the original URL path with the new path
                if (isset($parts[\'path\']) && ($flags & HTTP_URL_JOIN_PATH)) {
                    if (isset($parseUrl[\'path\']))
                        $parseUrl[\'path\'] = rtrim(str_replace(basename($parseUrl[\'path\']), \'\', $parseUrl[\'path\']), \'/\') . \'/\' . ltrim($parts[\'path\'], \'/\');
                    else
                        $parseUrl[\'path\'] = $parts[\'path\'];
                }

                // Join the original query string with the new query string
                if (isset($parts[\'query\']) && ($flags & HTTP_URL_JOIN_QUERY)) {
                    if (isset($parseUrl[\'query\']))
                        $parseUrl[\'query\'] .= \'&\' . $parts[\'query\'];
                    else
                        $parseUrl[\'query\'] = $parts[\'query\'];
                }
            }

            // Strips all the applicable sections of the URL
            // Note: Scheme and Host are never stripped
            foreach ($keys as $key) {
                if ($flags & (int) constant(\'HTTP_URL_STRIP_\' . strtoupper($key)))
                    unset($parseUrl[$key]);
            }

            $newUrl = $parseUrl;

            return
                    ((isset($parseUrl[\'scheme\'])) ? $parseUrl[\'scheme\'] . \'://\' : \'\')
                    . ((isset($parseUrl[\'user\'])) ? $parseUrl[\'user\'] . ((isset($parseUrl[\'pass\'])) ? \':\' . $parseUrl[\'pass\'] : \'\') . \'@\' : \'\')
                    . ((isset($parseUrl[\'host\'])) ? $parseUrl[\'host\'] : \'\')
                    . ((isset($parseUrl[\'port\'])) ? \':\' . $parseUrl[\'port\'] : \'\')
                    . ((isset($parseUrl[\'path\'])) ? $parseUrl[\'path\'] : \'\')
                    . ((isset($parseUrl[\'query\'])) ? \'?\' . $parseUrl[\'query\'] : \'\')
                    . ((isset($parseUrl[\'fragment\'])) ? \'#\' . $parseUrl[\'fragment\'] : \'\')
            ;
        }

    }

    parse_str($parseUrl[\'query\'], $queries);
    unset($queries[$langKey]);
    $parseUrl[\'query\'] = http_build_query($queries);

    $pageURL = http_build_url($pageURL, $parseUrl);
    $pageURL = urldecode($pageURL);
    // replace: &queryarray[0]=foo&queryarray[1]=bar
    // to:		&queryarray[]=foo&queryarray[]=bar
    $pageURL = preg_replace(\'/\\[+(\\d)+\\]+/\', \'[]\', $pageURL);
}

$pageURL = rtrim($pageURL, \'?\');
$hasQuery = strstr($pageURL, \'?\');

$originPageUrl = $pageURL;
$requestUri = preg_replace(\'/^\'. preg_quote(MODX_BASE_URL, \'/\') . \'/i\', \'\', $parseUrl[\'path\']);

// $modx->getOption(\'cultureKey\') is overriden by plugin!
$modCultureKey = $modx->getObject(\'modSystemSetting\', array(\'key\' => \'cultureKey\'));
$cultureKey = $modCultureKey->get(\'value\');

$baseUrl = $modx->getOption(\'base_url\', $scriptProperties);
$baseUrl = preg_replace(\'/^\'. preg_quote(MODX_BASE_URL, \'/\') . \'/i\', \'\', $baseUrl);
$originResource = $modx->getObject(\'modResource\', $modx->resource->get(\'id\'));

$languages = $lingua->getLanguages($activeOnly);
$selections = array();
foreach ($languages as $language) {
    if ($language[\'lang_code\'] === $modx->cultureKey) {
        continue;
    }

    $cloneSite = $modx->getObject(\'linguaSiteContent\', array(
        \'resource_id\' => $modx->resource->get(\'id\'),
        \'lang_id\' => $language[\'id\'],
    ));
    if ($modx->getOption(\'friendly_urls\')) {
        $itemUri = \'\';
        if ($language[\'lang_code\'] === $cultureKey) {
            $itemUri = $originResource->get(\'uri\');
        } elseif ($cloneSite) {
            $itemUri = $cloneSite->get(\'uri\');
        }
        if (!empty($itemUri)) {
            if ((int)$modx->getOption(\'site_start\') === $modx->resource->get(\'id\')) {
                $pageURL = $parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $parseUrl[\'path\'] . $itemUri;
            } else {
                $pageURL = preg_replace(\'/^\' . preg_quote($parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $requestUri, \'/\') . \'/i\'
                        , $parseUrl[\'scheme\'] . \'://\' . $parseUrl[\'host\'] . \'/\' . $baseUrl . $itemUri
                        , $originPageUrl);
            }
        }
    }

    $language[\'url\'] = $pageURL . (!empty($hasQuery) ? \'&\' : \'?\') . $langKey . \'=\' . $language[$codeField];
    $phs = $lingua->setPlaceholders($language, $phsPrefix, false);

    if (!empty($toArray)) {
        $selections[] = $phs;
    } else {
        $selections[] = $lingua->parseTpl($tplItem, $phs);
    }
}

if (!empty($toArray)) {
    $wrapper = array(
        $phsPrefix . \'languages\' => $selections
    );
    $output = \'<pre>\' . print_r($wrapper, TRUE) . \'</pre>\';
} else {
    $selection = @implode("\\n", $selections);
    $wrapper = array($phsPrefix . \'languages\' => $selection);
    $output = $lingua->parseTpl($tplWrapper, $wrapper);
}
if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $output);
    return;
}
return $output;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'currentCulture' => 
      array (
        'fields' => 
        array (
          'id' => 5,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'currentCulture',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);

$activeOnly = $modx->getOption(\'activeOnly\', $scriptProperties, \'1\');
$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);
$languages = $lingua->getLanguages($activeOnly);

return $languages[$modx->cultureKey][\'local_name\'];',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);

$activeOnly = $modx->getOption(\'activeOnly\', $scriptProperties, \'1\');
$defaultLinguaCorePath = $modx->getOption(\'core_path\') . \'components/lingua/\';
$linguaCorePath = $modx->getOption(\'lingua.core_path\', null, $defaultLinguaCorePath);
$lingua = $modx->getService(\'lingua\', \'Lingua\', $linguaCorePath . \'model/lingua/\', $scriptProperties);
$languages = $lingua->getLanguages($activeOnly);

return $languages[$modx->cultureKey][\'local_name\'];',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'galleryRand' => 
      array (
        'fields' => 
        array (
          'id' => 29,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'galleryRand',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '// $count - Количество картин
// $tpl - шаблон выдачи
// $parent - относительный путь к директории

$galleryDocs = $modx->getChildIds($parent, 1);
shuffle($galleryDocs);
$randDocs = array_slice($galleryDocs, 0, $count);

$output = \'\';

foreach($randDocs as $doc){
    
    $params = array(
        \'id\' => $doc,
        \'field\' => \'pagetitle\'
    );
    
    $pagetitle = $modx->runSnippet(\'lingua.getValue\', $params);
    $imageTv = $modx->getObject(\'modTemplateVarResource\', array(
        \'tmplvarid\' => 2,
        \'contentid\' => $doc
    ));
    
    $image = "";
    $padding = 0;
    
    if($imageTv){
        $image = $imageTv->get(\'value\');
    }
    
    
    if($image){

        $imageParams = getimagesize(MODX_SITE_URL . $image);
        $width = $imageParams[0];
        $height = $imageParams[1];
        $padding = ((int)$height / (int)$width) * 100;
    }
    
    $chunkParams = array(
        \'img-url\' => $image,
        \'title\' => $pagetitle,
        \'padding-top\' => str_replace(\',\', \'.\', (string)$padding)
    );
    
    $chunk = $modx->getChunk($tpl, $chunkParams);
    $output .= $chunk;
}

return $output;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '// $count - Количество картин
// $tpl - шаблон выдачи
// $parent - относительный путь к директории

$galleryDocs = $modx->getChildIds($parent, 1);
shuffle($galleryDocs);
$randDocs = array_slice($galleryDocs, 0, $count);

$output = \'\';

foreach($randDocs as $doc){
    
    $params = array(
        \'id\' => $doc,
        \'field\' => \'pagetitle\'
    );
    
    $pagetitle = $modx->runSnippet(\'lingua.getValue\', $params);
    $imageTv = $modx->getObject(\'modTemplateVarResource\', array(
        \'tmplvarid\' => 2,
        \'contentid\' => $doc
    ));
    
    $image = "";
    $padding = 0;
    
    if($imageTv){
        $image = $imageTv->get(\'value\');
    }
    
    
    if($image){

        $imageParams = getimagesize(MODX_SITE_URL . $image);
        $width = $imageParams[0];
        $height = $imageParams[1];
        $padding = ((int)$height / (int)$width) * 100;
    }
    
    $chunkParams = array(
        \'img-url\' => $image,
        \'title\' => $pagetitle,
        \'padding-top\' => str_replace(\',\', \'.\', (string)$padding)
    );
    
    $chunk = $modx->getChunk($tpl, $chunkParams);
    $output .= $chunk;
}

return $output;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
    ),
  ),
);